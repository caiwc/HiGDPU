import matplotlib

matplotlib.use('Agg')
from matplotlib.pyplot import plot, savefig
import matplotlib.font_manager as mfm
import matplotlib.pyplot as plt
import numpy as np
from pandas import Series, DataFrame

font_path = "/Users/caiweicheng/self/venv/HiGDPU/weibo_nlp/Chinese.ttf"
prop = mfm.FontProperties(fname=font_path)
plt.clf()
a = [(1, 283), (2, 120), (3, 278), (9, 879), (10, 456), (11, 754), (12, 360)]

s = np.array([20, 6, 1, 0, 0, 9, 13, 11, 10, 24, 15, 11, 11, 11, 15, 13, 15, 15, 14, 22, 26])
i = [0, 1, 2, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
# b = Series(s, index=i)
# b = Series(data=[20, 9], index=['zs','大学城'], name=' ')
# b.plot.pie(figsize=(6, 6), colors={'g', 'c'}, subplots=True)
# b.plot(color='c', marker='o', alpha=0.6, stacked=True, )
data = [[17.45, 8], [17.566666666666666, 8], [18.45, 23], [0.05, 24], [0.11666666666666667, 24], [0.13333333333333333, 24], [11.883333333333333, 24], [12.0, 24], [14.616666666666667, 3], [14.65, 3], [19.083333333333332, 3], [20.466666666666665, 3], [20.733333333333334, 3], [23.683333333333334, 3], [23.5, 3], [10.916666666666666, 1], [11.066666666666666, 1], [12.266666666666667, 1], [7.966666666666667, 4], [15.533333333333333, 1], [10.0, 4], [11.266666666666667, 4], [14.933333333333334, 4], [17.516666666666666, 4], [17.933333333333334, 4], [20.75, 4], [19.7, 4], [20.95, 4], [21.066666666666666, 4], [21.766666666666666, 4], [21.833333333333332, 4], [21.883333333333333, 4], [21.966666666666665, 4], [23.2, 4], [23.6, 4], [23.766666666666666, 4], [23.933333333333334, 4], [0.25, 5], [12.25, 2], [12.883333333333333, 2], [13.283333333333333, 2], [8.666666666666666, 5], [13.466666666666667, 2], [13.516666666666667, 2], [14.666666666666666, 2], [13.883333333333333, 2], [10.016666666666667, 5], [17.433333333333334, 2], [19.7, 2], [13.35, 5], [16.433333333333334, 5], [15.683333333333334, 5], [17.3, 5], [17.466666666666665, 5], [17.833333333333332, 5], [20.233333333333334, 5], [20.733333333333334, 5], [22.833333333333332, 5], [22.883333333333333, 5], [0.03333333333333333, 6], [0.3, 6], [0.9333333333333333, 6], [10.65, 6], [9.85, 6], [12.766666666666667, 6], [13.15, 6], [12.483333333333333, 6], [14.2, 6], [14.383333333333333, 6], [15.5, 6], [14.75, 6], [14.9, 6], [17.8, 6], [17.866666666666667, 6], [18.983333333333334, 6], [21.15, 6], [21.3, 6], [21.366666666666667, 6], [15.65, 9], [15.733333333333333, 9], [22.933333333333334, 6], [22.35, 6], [22.45, 6], [17.85, 9], [23.8, 6], [0.03333333333333333, 7], [0.08333333333333333, 7], [18.55, 9], [1.95, 7], [22.2, 9], [21.466666666666665, 9], [0.9166666666666666, 10], [23.866666666666667, 9], [1.0166666666666666, 10], [1.5833333333333335, 10], [10.25, 7], [12.5, 7], [13.083333333333334, 7], [9.15, 10], [9.366666666666667, 10], [16.666666666666668, 7], [9.966666666666667, 10], [11.066666666666666, 10], [16.083333333333332, 7], [17.4, 7], [16.383333333333333, 7], [10.6, 10], [11.766666666666667, 10], [12.2, 10], [18.166666666666668, 7], [19.3, 7], [18.516666666666666, 7], [13.766666666666667, 10], [18.816666666666666, 7], [20.133333333333333, 7], [20.566666666666666, 7], [22.416666666666668, 7], [15.716666666666667, 10], [21.583333333333332, 7], [18.566666666666666, 10], [23.316666666666666, 7], [18.65, 10], [18.916666666666668, 10], [23.783333333333335, 7], [23.916666666666668, 7], [20.283333333333335, 10], [22.316666666666666, 10], [22.4, 10], [23.516666666666666, 10], [8.116666666666667, 8], [9.083333333333334, 8], [9.116666666666667, 8], [11.116666666666667, 8], [12.1, 8], [8.983333333333333, 11], [16.15, 8], [9.3, 11], [16.2, 8], [16.55, 8], [9.683333333333334, 11], [12.683333333333334, 11], [18.733333333333334, 8], [13.033333333333333, 11], [19.566666666666666, 8], [19.683333333333334, 8], [14.3, 11], [15.816666666666666, 11], [21.816666666666666, 8], [22.033333333333335, 8], [16.366666666666667, 11], [23.433333333333334, 8], [22.466666666666665, 8], [23.75, 8], [0.13333333333333333, 9], [0.48333333333333334, 9], [0.7333333333333333, 9], [20.483333333333334, 11], [1.2833333333333332, 9], [20.683333333333334, 11], [23.966666666666665, 11], [2.1333333333333333, 12], [8.583333333333334, 9], [10.4, 9], [11.183333333333334, 9], [12.25, 9], [12.516666666666667, 9], [12.75, 9], [11.816666666666666, 9], [8.85, 12], [9.35, 12], [15.45, 9], [11.883333333333333, 12], [12.4, 12], [12.7, 12], [12.983333333333333, 12], [19.3, 12], [19.483333333333334, 12], [19.55, 12], [19.666666666666668, 12], [20.683333333333334, 12], [22.216666666666665, 12], [9.716666666666667, 16], [9.2, 16], [10.433333333333334, 16], [10.616666666666667, 16], [18.066666666666666, 13], [18.9, 13], [15.716666666666667, 16], [21.816666666666666, 13], [23.35, 13], [18.333333333333332, 16], [0.23333333333333334, 14], [18.716666666666665, 16], [19.933333333333334, 16], [20.783333333333335, 16], [21.75, 16], [22.95, 16], [23.05, 16], [22.083333333333332, 16], [23.2, 16], [23.583333333333332, 16], [11.233333333333333, 14], [11.316666666666666, 14], [8.4, 17], [8.433333333333334, 17], [13.433333333333334, 14], [13.65, 14], [15.433333333333334, 14], [16.8, 14], [12.833333333333334, 17], [12.916666666666666, 17], [21.85, 14], [22.2, 14], [23.7, 14], [17.933333333333334, 17], [0.13333333333333333, 15], [1.9833333333333334, 15], [20.216666666666665, 17], [22.816666666666666, 17], [0.5, 18], [2.183333333333333, 18], [9.0, 15], [9.366666666666667, 15], [12.15, 15], [8.266666666666667, 18], [15.166666666666666, 15], [10.483333333333333, 18], [10.9, 18], [12.216666666666667, 18], [13.416666666666666, 18], [14.583333333333334, 18], [22.083333333333332, 15], [16.666666666666668, 18], [22.75, 15], [22.916666666666668, 15], [23.016666666666666, 15], [0.4666666666666667, 16], [1.05, 16], [19.433333333333334, 18], [19.5, 18], [19.666666666666668, 18], [22.566666666666666, 18], [4.566666666666666, 16], [23.133333333333333, 18], [23.833333333333332, 18], [0.95, 19], [12.0, 19], [12.116666666666667, 19], [13.95, 19], [14.3, 19], [13.75, 19], [15.483333333333333, 19], [17.416666666666668, 19], [19.65, 19], [22.65, 19], [0.03333333333333333, 20], [22.966666666666665, 19], [23.316666666666666, 19], [23.616666666666667, 19], [8.65, 20], [8.683333333333334, 20], [13.566666666666666, 20], [13.7, 20], [14.866666666666667, 20], [16.683333333333334, 20], [16.866666666666667, 20], [17.166666666666668, 20], [17.2, 20], [19.8, 20], [23.266666666666666, 20], [23.833333333333332, 20], [0.25, 21], [1.6, 21], [0.7833333333333333, 21], [9.666666666666666, 21], [10.116666666666667, 21], [12.05, 21], [12.516666666666667, 21], [12.833333333333334, 21], [20.35, 21], [20.383333333333333, 21], [22.016666666666666, 21], [21.75, 21]]

df = DataFrame(np.array(data),columns=['hour','day'])
plt1 = df.plot.scatter(x='hour', y='day')

plt.title('近6个月统计', fontproperties=prop)

plt.xticks(np.arange(0, 25, 2))
plt.yticks(np.arange(1, 32, 2))
plt.legend(prop=prop)

savefig('/Users/caiweicheng/Desktop/text1.jpg')
plt.close()
